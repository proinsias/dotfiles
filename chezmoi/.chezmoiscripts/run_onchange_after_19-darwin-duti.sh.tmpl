{{- if (eq .chezmoi.os "darwin") -}}
#!/usr/bin/env bash

set -o errexit    # Exit on error. Append || true if you expect an error.
set -o errtrace   # Exit on error inside any functions or subshells.
set -o noclobber  # don't allow overwriting files
set -o nounset    # Don't allow use of undefined vars. Use ${VAR:-} to use an undefined VAR.
set -o pipefail   # Produce a failure return code if any pipeline command errors
shopt -s failglob # Cause globs that don't get expanded to cause errors

echo -e "\n\nUpdating default applications."

# bundle id | UTI/ext/MIME type | role
duti -s com.microsoft.VSCode .applescript all
duti -s com.microsoft.VSCode .c all
duti -s com.microsoft.VSCode .clj all
duti -s com.microsoft.VSCode .cpp all
duti -s com.microsoft.VSCode .cs all
duti -s com.microsoft.VSCode .css all
duti -s com.microsoft.VSCode .csv all
duti -s com.microsoft.VSCode .h all
duti -s com.microsoft.VSCode .ics all
duti -s com.microsoft.VSCode .java all
duti -s com.microsoft.VSCode .js all
duti -s com.microsoft.VSCode .json all
duti -s com.microsoft.VSCode .m all
# duti -s com.microsoft.VSCode net.daringfireball.markdown all
duti -s com.microsoft.VSCode .md all
duti -s com.microsoft.VSCode .php all
duti -s com.microsoft.VSCode .pl all
# duti -s com.microsoft.VSCode public.python-script all
duti -s com.microsoft.VSCode .py all
duti -s com.microsoft.VSCode .r all
duti -s com.microsoft.VSCode .rb all
duti -s com.microsoft.VSCode .scpt all
duti -s com.microsoft.VSCode .sh all
duti -s com.microsoft.VSCode .sql all
duti -s com.microsoft.VSCode .ts all
duti -s com.microsoft.VSCode .txt all
{{ end }}
